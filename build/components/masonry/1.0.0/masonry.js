define("undefined/mtd/pc/components/masonry/1.0.0/masonry.js",["util.js"],function(t){"use strict";var i=t("util.js"),n=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:"",itemWidth:0,column:1,horizontalMargin:15,verticalMargin:15,onAfterRender:function(){}},t),this.$container=$(this.container),this.init()},init:function(){var t=new Array(this.column);this.$items=this.$container.find(this.itemSelector),this.column=Math.min(this.$items.length,this.column);for(var n=0;n<this.column;n++)t[n]=this.$items[n].offsetTop+this.$items[n].offsetHeight;for(var e=0,s=this.$items.length;e<s;e++){var h=$(this.$items.get(e));if(this.itemWidth&&h.width(this.itemWidth),e>=this.column){var r=Math.min.apply(null,t),o=0;o=Array.prototype.indexOf?t.indexOf(r):i.indexOf(t,r),h.css({left:o*(this.itemWidth+this.horizontalMargin)+"px",top:r+this.verticalMargin+"px"}),t[o]+=h.get(0).offsetHeight+this.verticalMargin}else h.css({top:0,left:e%this.column*(this.itemWidth+this.horizontalMargin)+"px"})}this.$container.css({height:Math.max.apply(null,t)}),$.isFunction(this.onAfterRender)&&this.onAfterRender.call(this)}});return n});