!function(t){"use strict";function i(t){for(var i={},e=i.toString,n="Boolean Number String Function Array Date RegExp Object Error".split(" "),s=0;s<n.length;s++){var o=n[s];i["[object "+o+"]"]=o.toLowerCase()}return null===t?t+"":"object"==typeof t||"function"==typeof t?i[e.call(t)]||"object":typeof t}function e(t){return"function"===i(t)}var n=t._||(t._={}),s=!1,o=/xyz/.test(function(){})?/\bsuper\b/:/.*/;n.Class=function(){},n.Class.extend=function r(t){function i(t,i,e){return function(){return this._super=t[i],e.apply(this,arguments)}}function n(){!s&&e(this.construct)&&this.construct.apply(this,arguments)}var h=this.prototype;s=!0;var a=new this;s=!1;for(var c in t)if("statics"===c){var l=t[c];for(var u in l)n[u]=l[u]}else e(h[c])&&e(t[c])&&o.test(t[c])?a[c]=i(h,c,t[c]):a[c]=t[c];return n.prototype=a,n.prototype.constructor=n,n.extend=r,n}}(window,void 0),function(t){"use strict";function i(t,i,e){var n;return n=i&&i.hasOwnProperty("constructor")?i.constructor:function(){t.apply(this,arguments)},$.extend(n,t),h.prototype=t.prototype,n.prototype=new h,i&&$.extend(n.prototype,i),e&&$.extend(n,e),n.prototype.constructor=n,n.__super__=t.prototype,n}function e(t,e){var n=i(this,t,e);return n.extend=this.extend,n}function n(t){"undefined"!=typeof t&&t.callbacks?this.callbacks=t.callbacks:this.callbacks={}}var s=/\s+/,o=[].slice,r=t._||(t._={}),h=function(){};n.extend=e,n.prototype={on:function(t,i,e){var n,o,r,h,a;if(!i)return this;for(t=t.split(s),n=this.callbacks;o=t.shift();)a=n[o],r=a?a.tail:{},r.next=h={},r.context=e,r.callback=i,n[o]={tail:h,next:a?a.next:r};return this},off:function(t,i,e){var n,o,h,a,c,l;if(o=this.callbacks){if(!(t||i||e))return delete this.callbacks,this;for(t=t?t.split(s):r.keys(o);n=t.shift();)if(h=o[n],delete o[n],h&&(i||e))for(a=h.tail;(h=h.next)!==a;)c=h.callback,l=h.context,(i&&c!==i||e&&l!==e)&&this.on(n,c,l);return this}},trigger:function(t){var i,e,n,r,h,a,c;if(!(n=this.callbacks))return this;for(a=n.all,t=t.split(s),c=o.call(arguments,1);i=t.shift();){if(e=n[i])for(r=e.tail;(e=e.next)!==r;)e.callback.apply(e.context||this,c);if(e=a)for(r=e.tail,h=[i].concat(c);(e=e.next)!==r;)e.callback.apply(e.context||this,h)}return this}},r.Events=n,r.eventCenter=new n}(window,void 0),define("carousel",function(){"use strict";var t=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:null,itemWidth:0,activeClass:"active",startIndex:0,duration:500,delay:2e3,switchType:"fade",isAuto:!0,onBeforeSwitch:function(){},onAfterSwitch:function(){}},t),this.$container=$(this.container),this.init()},init:function(){this.initElements(),this.initEvent(),this.setCurrent(this.startIndex),this.isAuto&&this.start()},initElements:function(){switch(this.$items=this.$container.find(this.itemSelector),this.length=this.$items.length,this.switchType){case"fade":this.$items.css({opacity:0,zIndex:0,position:"absolute"});break;case"slide":var t=this.$items,i=$(t.get(0)).clone(),e=$(t.get(this.length-1)).clone();this.$container.append(i).prepend(e),this.$items=this.$container.find(this.itemSelector),this.$container.css({width:(this.length+2)*this.itemWidth,position:"absolute",top:0,left:-this.itemWidth})}return this},initEvent:function(){return this.$container.bind("mouseenter",$.proxy(this.stop,this)).bind("mouseleave",$.proxy(this.start,this)),this},setCurrent:function(t){this.currentIndex=t;var i=this.$items,e=$(i.get(t));return i.removeClass(this.activeClass),e.addClass(this.activeClass),this},switchTo:function(t){switch(this.switchType){case"fade":var i=this.$items,e=$(i.get(this.currentIndex)),n=null;t>=this.length?t=0:-1>=t&&(t=this.length-1),n=$(i.get(t)),$.isFunction(this.onBeforeSwitch)&&this.onBeforeSwitch.call(this,this.currentIndex,t),e.fadeTo(this.duration,0,$.proxy(function(){e.css("zIndex","0")},this)),n.fadeTo(this.duration,1,$.proxy(function(){this.setCurrent(t),n.css({opacity:1,zIndex:5}),$.isFunction(this.onAfterSwitch)&&this.onAfterSwitch.call(this,this.currentIndex)},this));break;case"slide":var i=this.$items,e=$(i.get(this.currentIndex));$.isFunction(this.onBeforeSwitch)&&this.onBeforeSwitch.call(this,this.currentIndex,t),this.$container.animate({left:-(t+1)*this.itemWidth},this.duration,$.proxy(function(){t>=this.length?(t=0,this.$container.css("left",-this.itemWidth*(t+1))):-1>=t&&(t=this.length-1,this.$container.css("left",-this.itemWidth*(t+1))),this.setCurrent(t),$.isFunction(this.onAfterSwitch)&&this.onAfterSwitch.call(this,this.currentIndex)},this))}return this},switchToPrev:function(){var t=this.currentIndex-1;return this.switchTo(t),this},switchToNext:function(){var t=this.currentIndex+1;return this.switchTo(t),this},start:function(){return clearTimeout(this.autoTimer),this.autoTimer=setTimeout($.proxy(function(){this.switchToNext().start()},this),this.delay),this},stop:function(){return clearTimeout(this.autoTimer),this},destroy:function(){this.unbind(),this.$container.remove()},unbind:function(){return this.$container.unbind(),this}});return t}),define("lift",function(){"use strict";var t=_.Class.extend({construct:function(t){this.config={$container:null,$backTop:null,floorListHook:".JS_floor",liftListHook:".JS_lift",itemSelectedClassName:"",speed:800},t&&$.extend(this.config,t),this.init()},init:function(){this.$window=$(window),this.WIN_W=this.$window.width(),this.WIN_H=this.$window.height(),this.DOC_H=$(document).height(),this.timer=null,this.$floorList=$(this.config.floorListHook),this.$liftList=this.config.$container.find(this.config.liftListHook),this.checkRun()},checkRun:function(){var t=this.config;null!=t.$container&&0!=this.$floorList.length&&0!=this.$liftList.length&&this.start()},start:function(){this.bindEvents()},getFloorInfo:function(){var t=[];return this.$floorList.length>0?(this.$floorList.each(function(){t.push($(this).offset().top)}),t):null},bindEvents:function(){var t=this.config,i=t.$backTop,e=this;e.$window.bind("scroll.lift",$.proxy(e.lift,e)),t.$container.delegate(t.liftListHook,"click.lift",{thisObj:e},e.liftJump),null!==i&&i.length>0&&i.bind("click.backTop",$.proxy(e.backTop,e))},backTop:function(){var t=this,i=t.config;return t.$window.unbind("scroll.lift"),$("body,html").stop().animate({scrollTop:0},i.speed,function(){t.$window.bind("scroll.lift",$.proxy(t.lift,t)),t.$liftList.removeClass(i.itemSelectedClassName)}),!1},lift:function(){var t=this,i=t.config,e=t.$window.scrollTop(),n=i.itemSelectedClassName;clearTimeout(t.timer),$.each(t.getFloorInfo(),function(s,o){e>=o-t.WIN_H/2+5?t.$liftList.eq(s).addClass(n).siblings(i.liftListHook).removeClass(n):e>=t.DOC_H-t.WIN_H/2-5&&t.$liftList.eq(s).addClass(n).siblings(i.liftListHook).removeClass(n),e<t.getFloorInfo()[0]-t.WIN_H/2&&t.$liftList.removeClass(n)})},liftJump:function(t){var i=t.data.thisObj,e=i.config;clearTimeout(i.timer),$(this).addClass(e.itemSelectedClassName).siblings(e.liftListHook).removeClass(e.itemSelectedClassName),i.$window.unbind("scroll.lift"),$("body,html").stop().animate({scrollTop:i.getFloorInfo()[$(this).index(e.$container.selector+" "+e.liftListHook)]},e.speed,function(){i.timer=setTimeout(function(){i.$window.bind("scroll.lift",$.proxy(i.lift,i))},50)})}});return t}),define("masonry",function(t){"use strict";var i=t("util"),e=_.Class.extend({construct:function(t){$.extend(this,{container:null,itemSelector:"",itemWidth:0,column:1,horizontalMargin:15,verticalMargin:15,onAfterRender:function(){}},t),this.$container=$(this.container),this.init()},init:function(){var t=new Array(this.column);this.$items=this.$container.find(this.itemSelector),this.column=Math.min(this.$items.length,this.column);for(var e=0;e<this.column;e++)t[e]=this.$items[e].offsetTop+this.$items[e].offsetHeight;for(var n=0,s=this.$items.length;s>n;n++){var o=$(this.$items.get(n));if(this.itemWidth&&o.width(this.itemWidth),n>=this.column){var r=Math.min.apply(null,t),h=0;h=Array.prototype.indexOf?t.indexOf(r):i.indexOf(t,r),o.css({left:h*(this.itemWidth+this.horizontalMargin)+"px",top:r+this.verticalMargin+"px"}),t[h]+=o.get(0).offsetHeight+this.verticalMargin}else o.css({top:0,left:n%this.column*(this.itemWidth+this.horizontalMargin)+"px"})}this.$container.css({height:Math.max.apply(null,t)}),$.isFunction(this.onAfterRender)&&this.onAfterRender.call(this)}});return e}),define("SidePopMenu",function(){"use strict";var t=_.Class.extend({construct:function(t){this.config={$container:null,navItemHook:"",popItemHook:"",navCtnHook:".JS_navCtn",popCtnHook:".JS_popCtn",navItemOn:"",moveDeg:70,isAuto:!1,menuDirection:"right"},t&&$.extend(this.config,t),this.checkRun()},checkRun:function(){var t=this.config;null!=t.$container&&0!=$(t.navCtnHook).length&&0!=$(t.popCtnHook).length&&""!=t.navItemHook&&""!=t.popItemHook&&this.init()},init:function(){var t=this.config;this.$navCtn=t.$container.find(t.navCtnHook),this.$popCtn=t.$container.find(t.popCtnHook),this.$navItemList=this.$navCtn.find(t.navItemHook),this.$popItemList=this.$popCtn.find(t.popItemHook),this.potCollect=[],this.moveTimer=null,this.enterTimer=null,this.isBind=!1,this.initEvents()},getNavItemInfo:function(){var t=this.config,i=[];return t.$container.find(t.navItemHook).each(function(){i.push({thisHeight:$(this).height(),thisPstX:$(this).position().left,thisPstY:$(this).position().top})}),i},initEvents:function(){var t=this,i=t.config;i.$container.bind("mouseleave",$.proxy(t.ctnLeave,t)),t.$navCtn.delegate(i.navItemHook,{"mouseenter.itemEnter":t.navItemEnter,"mousemove.itemMove":t.navItemMove,"mouseleave.itemLeave":t.navItemLeave},{thisObj:t}),t.isBind=!0},ctnLeave:function(){var t=this,i=t.config;t.$navItemList.removeClass(i.navItemOn),t.$popCtn.hide(),t.$popItemList.hide(),t.moveTimer=null,t.enterTimer=null},reBindNavItemEnter:function(){var t=this,i=t.config;t.$navCtn.delegate(i.navItemHook,"mouseenter.itemEnter",{thisObj:t},t.navItemEnter),t.isBind=!0},unbindNavItemEnter:function(){var t=this;t.config;t.$navCtn.undelegate(".itemEnter"),t.isBind=!1},navItemEnter:function(t){var i=t.data.thisObj,e=$(this),n=i.config,s=$(this).index(n.$container.selector+" "+n.navItemHook);n.isAuto||(e.addClass(n.navItemOn).siblings(n.$container.selector+" "+n.navItemHook).removeClass(n.navItemOn),i.$popCtn.show(),i.$popItemList.eq(s).show().siblings(n.$container.selector+" "+n.popItemHook).hide())},navItemMove:function(t){function i(){clearTimeout(n.moveTimer),n.isBind&&n.unbindNavItemEnter(),n.moveTimer=setTimeout(function(){n.reBindNavItemEnter()},100)}function e(){clearTimeout(n.moveTimer),n.isBind||n.reBindNavItemEnter()}var n=t.data.thisObj,s=$(this),o=n.config,r=t,h=o.moveDeg*(2*Math.PI/360),a=Math.tan(h).toFixed(2),c=0,l=0,u=0,f=null,d=null;if(n.potCollect.push({x:r.pageX,y:r.pageY}),n.potCollect.length>4)switch(n.potCollect.shift(),f=n.potCollect[0],d=n.potCollect[n.potCollect.length-1],l=d.x-f.x,u=d.y-f.y,c=Math.abs((u/l).toFixed(2)),o.menuDirection){case"right":a>=c&&l>0?i():e();break;case"left":a>=c&&0>l?i():e()}return clearTimeout(n.enterTimer),n.enterTimer=setTimeout(function(){var t=s.index(o.$container.selector+" "+o.navItemHook);s.addClass(o.navItemOn).siblings(o.$container.selector+" "+o.navItemHook).removeClass(o.navItemOn),n.$popItemList.eq(t).show().siblings(o.$container.selector+" "+o.popItemHook).hide()},300),!1},navItemLeave:function(t){var i=t.data.thisObj;$(this),i.config;clearTimeout(i.enterTimer)}});return t}),define("tab",function(){"use strict";var t=_.Class.extend({construct:function(t){this.conf=$.extend({container:null,head:null,content:null,startAt:0,activeClass:"active",hash:!1,hoverToSwitch:!1,onBeforeSwitch:function(){},onAfterSwitch:function(){},onFirstShow:function(){}},t),this.index=void 0;var i=this.conf;this.$el=$(i.container),this.$head=i.head?$(i.head):this.$el.children(".mod_tab_head, .j_tab_head"),this.$headItems=this.$head.children(".mod_tab_head_item, .j_tab_head_item"),this.$content=i.content?$(i.content):this.$el.children(".mod_tab_content, .j_tab_content"),this.$contentItems=this.$content.children(".mod_tab_content_item, .j_tab_content_item"),this.tabLength=this.$headItems.length;for(var e=0,n=this.$headItems.length;n>e;e++)this.$headItems[e].hasShown=!1;this.init()},init:function(){var t=this.conf,i=-1,e=window.location.hash;t.hash&&e.length>1?this.switchTo(e):("string"==typeof t.startAt?(this.$active=this.$headItems.filter(t.startAt),i=this.$active.length?this.$active.index():0):i="number"==typeof t.startAt?t.startAt:0,this.switchTo(i)),this.initEvent()},initEvent:function(){var t=this,i=t.conf,e="click";i.hoverToSwitch&&(e="mouseenter"),this.$head.delegate(".mod_tab_head_item, .j_tab_head_item",e,function(){var i=$(this).index();return t.switchTo(i),!1})},switchTo:function(t){var i=this.conf;if(i.hash){var e;if("string"==typeof t&&(e=t.replace("#",""),this.$active=this.$headItems.filter("[data-hash$="+e+"]"),t=this.$active.index()),"number"==typeof t&&(e=this.$headItems.eq(t).attr("data-hash")),-1===t)return-1;window.location.hash=e}return t=parseInt(t,10),t!==this.index?(this.index=t,"function"==typeof i.onBeforeSwitch&&i.onBeforeSwitch.call(this,t,this),this.$headItems.removeClass(i.activeClass).eq(t).addClass(i.activeClass),this.$contentItems.hide().eq(t).show(),"function"==typeof i.onAfterSwitch&&i.onAfterSwitch.call(this,t,this),this.$headItems[t].hasShown||"function"!=typeof i.onFirstShow||(i.onFirstShow.call(this,t,this),this.$headItems[t].hasShown=!0),this):void 0},switchToNext:function(){var t=this.index+1;return t>=this.tabLength&&(t=0),this.switchTo(t),this},switchToPrev:function(){var t=this.index+1;return 0>=t&&(t=0),this.switchTo(t),this},destroy:function(){this.unbind(),this.$el.remove()},unbind:function(){return this.$head.undelegate(),this},setOptions:function(t){return $.extend(this.conf,t),this}});return t}),define("util",function(){"use strict";return{throttle:function(t,i,e){var n,s,o,r=null,h=0;e||(e={});var a=function(){h=e.leading===!1?0:(new Date).getTime(),r=null,o=t.apply(n,s),r||(n=s=null)};return function(){var c=(new Date).getTime();h||e.leading!==!1||(h=c);var l=i-(c-h);return n=this,s=arguments,0>=l||l>i?(clearTimeout(r),r=null,h=c,o=t.apply(n,s),r||(n=s=null)):r||e.trailing===!1||(r=setTimeout(a,l)),o}},debounce:function(t,i,e){var n,s,o,r,h,a=function(){var c=(new Date).getTime()-r;i>c&&c>0?n=setTimeout(a,i-c):(n=null,e||(h=t.apply(o,s),n||(o=s=null)))};return function(){o=this,s=arguments,r=(new Date).getTime();var c=e&&!n;return n||(n=setTimeout(a,i)),c&&(h=t.apply(o,s),o=s=null),h}},indexOf:function(t,i){var e=t.length,n=Number(arguments[2])||0;for(0>n&&(n+=e);e>n;){if(n in t&&t[n]===i)return n;n++}return-1}}});